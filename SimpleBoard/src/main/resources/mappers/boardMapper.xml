<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.myapp.board.mapper.BoardMapper">

	<sql id="boardColumns">
		NUM, TITLE, CONTENT, WRITER, VISIT_CNT, NOTICE_YN, DELETE_YN, SECRET_YN, INSERT_TIME, UPDATE_TIME, DELETE_TIME	
	</sql>
	
	<select id="selectBoardListCount" parameterType="BoardDTO" resultType="Integer">
		SELECT COUNT(*)
		FROM BOARD
		WHERE DELETE_YN = 'N'
		ORDER BY NUM ASC
	</select>
	
	<select id="selectBoardList" parameterType="BoardDTO" resultType="BoardDTO">
		SELECT <include refid="boardColumns" />
		FROM BOARD
		WHERE DELETE_YN = 'N'
		ORDER BY NUM ASC
	</select>
	
	<insert id="insertBoard" parameterType="BoardDTO">
		INSERT INTO BOARD 
		(
			<include refid="boardColumns" />
		) 
		VALUES 
		(
			  #{num}
			, #{title}
			, #{content}
			, #{writer}
			, 0
			, IFNULL(#{notice_yn}, 'N')
			, IFNULL(#{secret_yn}, 'N')
			, 'N'
			, NOW()
			, NULL
			, NULL
		)
	</insert>
</mapper>